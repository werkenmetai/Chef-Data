{
  "$schema": "orchestrator-state-v1",
  "version": 10,
  "lastUpdated": "2026-01-29T17:00:00Z",
  "lastUpdatedBy": "orchestrator",

  "systemStatus": {
    "phase": "app-store-publication",
    "isIdle": false,
    "nextRunSuggestion": "Live testing met echte data + marketingbeoordeling voorbereiden",
    "message": "üèÜ MILESTONE: Exact Online App Store GOEDGEKEURD! Security review + Toestemmingsverzoek beide goedgekeurd. Nu in publicatie fase."
  },

  "taskQueue": {
    "pending": [
      {
        "id": "TASK-W06-001",
        "title": "Blog: Pre-API Filter Selection",
        "assignedAgent": "content-creator",
        "priority": 2,
        "requiresInput": ["mcp-specialist", "exact-specialist"]
      }
    ],
    "inProgress": [],
    "completed": [
      {
        "id": "TASK-W05-001",
        "title": "Weekly Code Audit Validation",
        "completedAt": "2026-01-27T15:30:00Z",
        "completedBy": "code-auditor",
        "result": "success",
        "summary": "ROADMAP.md validated - all 43 items still accurate, no new issues found"
      },
      {
        "id": "TASK-W05-002",
        "title": "Landing Page Copy voor Demo",
        "completedAt": "2026-01-27T16:45:00Z",
        "completedBy": "content-writer",
        "result": "success",
        "summary": "Landing page copy geschreven met 975 woorden, alle 6 secties compleet, tone-of-voice consistent"
      },
      {
        "id": "TASK-W05-003",
        "title": "Fix Critical Security Issues (SEC-001, SEC-002)",
        "completedAt": "2026-01-27T17:30:00Z",
        "completedBy": "security-expert",
        "result": "success",
        "summary": "SEC-001 XSS fixed, SEC-002 CORS fixed"
      },
      {
        "id": "PR-80",
        "title": "Sprint 1-2 Technical Fixes",
        "completedAt": "2026-01-28T08:00:00Z",
        "completedBy": "mcp-specialist",
        "result": "success",
        "summary": "MCP-001 protocol version, EXACT-001 rate limit, EXACT-002 retry-after, EXACT-003 refresh token"
      },
      {
        "id": "PR-81",
        "title": "Type Sync & Error Handling",
        "completedAt": "2026-01-28T09:00:00Z",
        "completedBy": "backend-dev",
        "result": "success",
        "summary": "TYPE-001 shared types sync, security patches for auth-portal"
      },
      {
        "id": "PR-82",
        "title": "Sprint 3 MCP & Exact Features",
        "completedAt": "2026-01-28T10:45:00Z",
        "completedBy": "exact-specialist",
        "result": "success",
        "summary": "MCP-004 SSE, MCP-005/006 resources+prompts, EXACT-005/006/007/008/009 pagination+bulk+circuit breaker+health"
      },
      {
        "id": "TASK-W05-004",
        "title": "Security Fixes SEC-001 to SEC-006",
        "completedAt": "2026-01-28T11:30:00Z",
        "completedBy": "security-expert",
        "result": "success",
        "summary": "All security issues resolved: open redirect, webhook validation, CRON security, fetch timeout, error leakage, OData injection"
      },
      {
        "id": "TASK-W05-005",
        "title": "Audit en fix innerHTML usages voor XSS preventie",
        "completedAt": "2026-01-28T16:30:00Z",
        "completedBy": "security-expert",
        "result": "success",
        "summary": "All 14 innerHTML instances audited and verified safe: 12x clearing, 1x with escapeHtml, 1x comments only"
      },
      {
        "id": "TASK-W05-006",
        "title": "Implementeer Content-Security-Policy header",
        "completedAt": "2026-01-28T16:30:00Z",
        "completedBy": "backend-dev",
        "result": "success",
        "summary": "CSP headers added to MCP server (cors.ts) and auth-portal (middleware.ts). Includes X-Frame-Options, X-Content-Type-Options."
      }
    ],
    "failed": []
  },

  "agents": {
    "board": {
      "ceo-planner": {
        "name": "Matthijs",
        "role": "CSO - Chief Strategy Officer",
        "layer": "board",
        "status": "idle",
        "lastRun": "2026-01-27T14:00:00Z",
        "lastTaskId": "PLAN-001",
        "capabilities": ["strategy", "okrs", "quarterly-planning", "board-aansturing"],
        "reportsTo": null,
        "manages": ["henk", "frans", "kees", "lisa", "sophie", "eva"]
      },
      "orchestrator": {
        "name": "Piet",
        "role": "CEO - Chief Executive Officer",
        "layer": "board",
        "status": "idle",
        "lastRun": "2026-01-28T16:30:00Z",
        "lastTaskId": "P2-SECURITY-COMPLETE",
        "capabilities": ["orchestration", "delegation", "execution", "operations"],
        "reportsTo": "matthijs",
        "manages": ["wim", "bas", "dirk", "tom", "marie", "petra", "jan"]
      },
      "it-architect": {
        "name": "Henk",
        "role": "COO - IT Architect",
        "layer": "board",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["architecture", "specs", "design", "api-design"],
        "reportsTo": "matthijs",
        "manages": ["dirk"]
      },
      "cfo": {
        "name": "Frans",
        "role": "CFO - Chief Financial Officer",
        "layer": "board",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["finance", "pricing", "cash", "runway", "fundraising"],
        "reportsTo": "matthijs",
        "manages": ["jan"]
      },
      "developer": {
        "name": "Kees",
        "role": "CTO - Chief Technology Officer",
        "layer": "board",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["typescript", "implementation", "mcp-tools", "product", "roadmap"],
        "reportsTo": "matthijs",
        "manages": ["wim", "bas"]
      },
      "content-writer": {
        "name": "Lisa",
        "role": "CMO - Chief Marketing Officer",
        "layer": "board",
        "status": "idle",
        "lastRun": "2026-01-27T16:45:00Z",
        "lastTaskId": "TASK-W05-002",
        "capabilities": ["marketing", "brand", "growth-strategy", "seo", "content"],
        "reportsTo": "matthijs",
        "manages": ["tom", "marie"]
      },
      "support-system": {
        "name": "Sophie",
        "role": "CCO - Chief Customer Officer",
        "layer": "board",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["customer-experience", "nps", "retention", "support-strategy"],
        "reportsTo": "matthijs",
        "manages": ["petra"]
      },
      "legal-compliance": {
        "name": "Eva",
        "role": "CLO - Chief Legal Officer",
        "layer": "board",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["legal", "privacy", "gdpr", "terms", "compliance", "contracts"],
        "reportsTo": "matthijs",
        "manages": []
      }
    },
    "management": {
      "code-auditor": {
        "name": "Wim",
        "role": "Engineering Manager",
        "layer": "management",
        "status": "idle",
        "lastRun": "2026-01-27T15:30:00Z",
        "lastTaskId": "TASK-W05-001",
        "capabilities": ["code-review", "technical-debt", "team-lead", "sprint-planning"],
        "reportsTo": "kees",
        "manages": ["roos", "daan", "lars"]
      },
      "security-expert": {
        "name": "Bas",
        "role": "Security Lead",
        "layer": "management",
        "status": "idle",
        "lastRun": "2026-01-28T16:30:00Z",
        "lastTaskId": "TASK-W05-005",
        "capabilities": ["xss", "cors", "vulnerabilities", "security-audit", "penetration-testing"],
        "reportsTo": "kees",
        "manages": []
      },
      "devops-lead": {
        "name": "Dirk",
        "role": "DevOps Lead",
        "layer": "management",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["infrastructure", "ci-cd", "monitoring", "cloudflare", "deployment"],
        "reportsTo": "henk",
        "manages": []
      },
      "growth-lead": {
        "name": "Tom",
        "role": "Growth Lead",
        "layer": "management",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["demand-generation", "campaigns", "analytics", "conversion"],
        "reportsTo": "lisa",
        "manages": ["anna", "bram"]
      },
      "community-lead": {
        "name": "Marie",
        "role": "Community Lead",
        "layer": "management",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["community", "events", "engagement", "ambassadors"],
        "reportsTo": "lisa",
        "manages": []
      },
      "cs-manager": {
        "name": "Petra",
        "role": "Customer Success Manager",
        "layer": "management",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["onboarding", "retention", "churn-prevention", "expansion"],
        "reportsTo": "sophie",
        "manages": ["emma"]
      },
      "finance-ops": {
        "name": "Jan",
        "role": "Finance Operations",
        "layer": "management",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["invoicing", "mrr-tracking", "stripe", "reconciliation"],
        "reportsTo": "frans",
        "manages": ["tim"]
      }
    },
    "operational": {
      "qa-engineer": {
        "name": "Roos",
        "role": "QA Engineer",
        "layer": "operational",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["testing", "e2e", "playwright", "test-automation"],
        "reportsTo": "wim",
        "manages": []
      },
      "frontend-dev": {
        "name": "Daan",
        "role": "Frontend Developer",
        "layer": "operational",
        "status": "idle",
        "lastRun": "2026-01-28T16:30:00Z",
        "lastTaskId": "TASK-W05-005",
        "capabilities": ["react", "astro", "tailwind", "ui-ux", "accessibility"],
        "reportsTo": "wim",
        "manages": []
      },
      "backend-dev": {
        "name": "Lars",
        "role": "Backend Developer",
        "layer": "operational",
        "status": "idle",
        "lastRun": "2026-01-28T16:30:00Z",
        "lastTaskId": "TASK-W05-006",
        "capabilities": ["typescript", "cloudflare-workers", "d1", "drizzle", "api"],
        "reportsTo": "wim",
        "manages": []
      },
      "content-creator": {
        "name": "Anna",
        "role": "Content Creator",
        "layer": "operational",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["blog", "social-media", "copywriting", "email"],
        "reportsTo": "tom",
        "manages": []
      },
      "seo-specialist": {
        "name": "Bram",
        "role": "SEO Specialist",
        "layer": "operational",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["seo", "keyword-research", "technical-seo", "link-building"],
        "reportsTo": "tom",
        "manages": []
      },
      "support-agent": {
        "name": "Emma",
        "role": "Support Agent",
        "layer": "operational",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["tickets", "troubleshooting", "knowledge-base", "customer-support"],
        "reportsTo": "petra",
        "manages": []
      },
      "data-analyst": {
        "name": "Tim",
        "role": "Data Analyst",
        "layer": "operational",
        "status": "idle",
        "lastRun": null,
        "capabilities": ["analytics", "dashboards", "sql", "metrics", "reporting"],
        "reportsTo": "jan",
        "manages": []
      }
    }
  },

  "errorState": {
    "hasErrors": false,
    "retryQueue": [],
    "deadLetterQueue": []
  },

  "executionHistory": [
    {
      "taskId": "PLAN-001",
      "agent": "ceo-planner",
      "completedAt": "2026-01-27T14:00:00Z",
      "result": "success",
      "summary": "3 tasks created for Week 5"
    },
    {
      "taskId": "TASK-W05-001",
      "agent": "code-auditor",
      "completedAt": "2026-01-27T15:30:00Z",
      "result": "success",
      "summary": "Code audit validated - ROADMAP.md still accurate with 43 items"
    },
    {
      "taskId": "TASK-W05-002",
      "agent": "content-writer",
      "completedAt": "2026-01-27T16:45:00Z",
      "result": "success",
      "summary": "Landing page copy geschreven - 975 woorden, 6 secties"
    },
    {
      "taskId": "TASK-W05-003",
      "agent": "security-expert",
      "completedAt": "2026-01-27T17:30:00Z",
      "result": "success",
      "summary": "Security fixes: SEC-001 XSS, SEC-002 CORS"
    },
    {
      "taskId": "ORG-EXPANSION",
      "agent": "orchestrator",
      "completedAt": "2026-01-27T19:00:00Z",
      "result": "success",
      "summary": "Organization expanded to 22 agents across 3 layers"
    },
    {
      "taskId": "SPRINT-1-2-COMPLETE",
      "agent": "mcp-specialist",
      "completedAt": "2026-01-28T09:00:00Z",
      "result": "success",
      "summary": "Sprint 1-2 complete: MCP-001/002/003, EXACT-001/002/003/004, AUTH-001/002/003/004"
    },
    {
      "taskId": "SPRINT-3-COMPLETE",
      "agent": "exact-specialist",
      "completedAt": "2026-01-28T10:45:00Z",
      "result": "success",
      "summary": "Sprint 3 complete: MCP-004/005/006, EXACT-005/006/007/008/009"
    },
    {
      "taskId": "SECURITY-COMPLETE",
      "agent": "security-expert",
      "completedAt": "2026-01-28T12:00:00Z",
      "result": "success",
      "summary": "All 6 security issues resolved (SEC-001 to SEC-006). Production ready."
    },
    {
      "taskId": "P2-SECURITY-COMPLETE",
      "agent": "orchestrator",
      "completedAt": "2026-01-28T16:30:00Z",
      "result": "success",
      "summary": "P2 security hardening complete: innerHTML audit (14 instances safe), CSP headers (MCP + auth-portal)"
    }
  ],

  "metadata": {
    "projectName": "Praat met je Boekhouding",
    "currentWeek": "2026-W06",
    "strategicFocus": "App Store Publicatie + Live Testing",
    "configVersion": "1.3.0",
    "organizationModel": "Dual Leadership (Matthijs CSO + Piet CEO)",
    "totalAgents": 22,
    "technicalScore": "9.0/10",
    "securityScore": "9.0/10",
    "productionReady": true,
    "sprintsCompleted": ["Sprint 1", "Sprint 2", "Sprint 3"],
    "p2SecurityComplete": true,
    "exactAppStoreStatus": {
      "securityReview": "GOEDGEKEURD",
      "toestemmingsverzoek": "GOEDGEKEURD",
      "marketingbeoordeling": "TODO",
      "kosten": "TODO",
      "factureringsgegevens": "TODO",
      "demonstratie": "TODO",
      "approvedDate": "2026-01-29"
    },
    "liveTestingPhase": true
  }
}
