---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Documentatie" description="Complete documentatie voor Praat met je Boekhouding - configuratie, tools en best practices">
  <div class="max-w-4xl mx-auto px-4 py-12">
    <h1 class="text-3xl font-bold text-gray-900 mb-8">Documentatie</h1>

    <!-- AI Disclaimer Banner -->
    <section class="mb-12">
      <div class="bg-amber-50 border border-amber-200 rounded-xl p-6">
        <div class="flex items-start">
          <svg class="w-6 h-6 text-amber-600 mr-3 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
          </svg>
          <div>
            <h3 class="font-semibold text-amber-900 mb-2">Belangrijk: Controleer altijd AI-output</h3>
            <p class="text-amber-800 text-sm">
              AI-assistenten zoals Claude, ChatGPT en Copilot kunnen fouten maken bij het interpreteren van data.
              <strong>Controleer antwoorden altijd</strong> tegen je originele Exact Online data voordat je beslissingen neemt.
              Wij leveren alleen de datakoppeling - niet het AI-advies.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Quick Start -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold text-gray-900 mb-4">Quick Start</h2>
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
        <ol class="space-y-4">
          <li class="flex">
            <span class="flex-shrink-0 w-8 h-8 bg-exact-blue text-white rounded-full flex items-center justify-center font-bold mr-3">1</span>
            <div>
              <h3 class="font-semibold text-gray-900">Verbind je Exact Online account</h3>
              <p class="text-gray-600">Ga naar <a href="/connect" class="text-exact-blue hover:underline">Verbinden</a> en log in met je Exact Online credentials.</p>
            </div>
          </li>
          <li class="flex">
            <span class="flex-shrink-0 w-8 h-8 bg-exact-blue text-white rounded-full flex items-center justify-center font-bold mr-3">2</span>
            <div>
              <h3 class="font-semibold text-gray-900">Configureer je AI-assistent</h3>
              <p class="text-gray-600">Voeg de MCP server toe aan je Claude, ChatGPT of Copilot configuratie (zie <a href="/setup" class="text-exact-blue hover:underline">Setup</a>).</p>
            </div>
          </li>
          <li class="flex">
            <span class="flex-shrink-0 w-8 h-8 bg-exact-blue text-white rounded-full flex items-center justify-center font-bold mr-3">3</span>
            <div>
              <h3 class="font-semibold text-gray-900">Stel vragen over je boekhouding</h3>
              <p class="text-gray-600">Vraag over facturen, relaties, banktransacties en meer - in gewoon Nederlands.</p>
            </div>
          </li>
        </ol>
      </div>
    </section>

    <!-- Claude Configuration -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold text-gray-900 mb-4">Configuratie</h2>

      <div class="space-y-6">
        <!-- Claude Desktop -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Claude Desktop / Claude Code</h3>
          <p class="text-gray-600 mb-4">
            Voeg de MCP server toe aan je configuratiebestand:
          </p>
          <div class="text-sm text-gray-500 mb-2">
            <strong>macOS:</strong> <code class="bg-gray-100 px-2 py-1 rounded">~/Library/Application Support/Claude/claude_desktop_config.json</code>
          </div>
          <div class="text-sm text-gray-500 mb-4">
            <strong>Windows:</strong> <code class="bg-gray-100 px-2 py-1 rounded">%APPDATA%\Claude\claude_desktop_config.json</code>
          </div>
          <div class="bg-gray-900 rounded-lg p-4 overflow-x-auto relative">
            <button class="copy-btn absolute top-2 right-2 px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded hover:bg-gray-600">
              Kopieer
            </button>
            <pre class="text-sm text-gray-100"><code id="config-claude">{'{'}
  "mcpServers": {'{'}
    "exact-online": {'{'}
      "url": "https://api.praatmetjeboekhouding.nl/mcp",
      "headers": {'{'}
        "Authorization": "Bearer JOUW_API_KEY"
      {'}'}
    {'}'}
  {'}'}
{'}'}</code></pre>
          </div>
          <p class="text-sm text-gray-500 mt-3">
            Vervang <code class="bg-yellow-100 px-1 rounded text-yellow-800">JOUW_API_KEY</code> met de key uit je <a href="/dashboard" class="text-exact-blue hover:underline">dashboard</a>.
          </p>
        </div>

        <!-- ChatGPT / Other -->
        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
          <h3 class="text-lg font-semibold text-gray-900 mb-3">ChatGPT, Copilot & Andere AI's</h3>
          <p class="text-gray-600 mb-4">
            Voor AI-assistenten die MCP ondersteunen via remote URL's, gebruik deze endpoint:
          </p>
          <div class="bg-gray-100 rounded-lg p-4">
            <code class="text-gray-800">https://api.praatmetjeboekhouding.nl/mcp</code>
          </div>
          <p class="text-gray-600 mt-4 text-sm">
            Voeg je API key toe als Bearer token in de Authorization header.
            Zie de documentatie van je AI-assistent voor specifieke configuratie-instructies.
          </p>
        </div>
      </div>
    </section>

    <!-- Available Tools -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold text-gray-900 mb-4">Beschikbare Tools</h2>
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
        <table class="w-full">
          <thead class="bg-gray-50 border-b border-gray-100">
            <tr>
              <th class="text-left px-6 py-3 text-sm font-semibold text-gray-900">Tool</th>
              <th class="text-left px-6 py-3 text-sm font-semibold text-gray-900">Beschrijving</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-100">
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">list_divisions</code></td>
              <td class="px-6 py-4 text-gray-600">Toon alle beschikbare administraties</td>
            </tr>
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">get_relations</code></td>
              <td class="px-6 py-4 text-gray-600">Haal klanten en leveranciers op</td>
            </tr>
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">search_relations</code></td>
              <td class="px-6 py-4 text-gray-600">Zoek relaties op naam, code of KvK-nummer</td>
            </tr>
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">get_sales_invoices</code></td>
              <td class="px-6 py-4 text-gray-600">Haal verkoopfacturen op met filters</td>
            </tr>
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">get_purchase_invoices</code></td>
              <td class="px-6 py-4 text-gray-600">Haal inkoopfacturen op</td>
            </tr>
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">get_outstanding_invoices</code></td>
              <td class="px-6 py-4 text-gray-600">Toon openstaande facturen</td>
            </tr>
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">get_bank_transactions</code></td>
              <td class="px-6 py-4 text-gray-600">Haal banktransacties op</td>
            </tr>
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">get_gl_accounts</code></td>
              <td class="px-6 py-4 text-gray-600">Toon grootboekrekeningen</td>
            </tr>
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">get_trial_balance</code></td>
              <td class="px-6 py-4 text-gray-600">Haal proef- en saldibalans op</td>
            </tr>
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">get_projects</code></td>
              <td class="px-6 py-4 text-gray-600">Projecten met budget en urenregistratie</td>
            </tr>
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">get_wip_overview</code></td>
              <td class="px-6 py-4 text-gray-600">Onderhanden werk (WIP) overzicht</td>
            </tr>
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">get_opportunities</code></td>
              <td class="px-6 py-4 text-gray-600">Verkoopkansen en pipeline</td>
            </tr>
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">get_fixed_assets</code></td>
              <td class="px-6 py-4 text-gray-600">Vaste activa en afschrijvingen</td>
            </tr>
            <tr>
              <td class="px-6 py-4"><code class="text-exact-blue">get_margin_analysis</code></td>
              <td class="px-6 py-4 text-gray-600">Marge-analyse (verkoop vs. inkoop)</td>
            </tr>
          </tbody>
        </table>
      </div>
      <p class="text-sm text-gray-500 mt-4">
        <strong>44 tools</strong> beschikbaar inclusief projecten, kostenplaatsen, verkoopkansen, contracten en prijslijsten. Alle tools zijn read-only voor veiligheid.
      </p>
    </section>

    <!-- Prompting Guide -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold text-gray-900 mb-4">Effectief Vragen Stellen</h2>

      <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6">
        <h3 class="font-semibold text-gray-900 mb-4">Tips voor betere resultaten</h3>
        <div class="grid md:grid-cols-2 gap-4">
          <div class="p-4 bg-green-50 rounded-lg">
            <h4 class="font-medium text-green-900 mb-2">Wees specifiek</h4>
            <p class="text-green-800 text-sm">In plaats van "toon facturen", vraag "toon openstaande verkoopfacturen van januari 2026"</p>
          </div>
          <div class="p-4 bg-green-50 rounded-lg">
            <h4 class="font-medium text-green-900 mb-2">Noem de administratie</h4>
            <p class="text-green-800 text-sm">Bij meerdere administraties, specificeer: "in administratie Holding B.V."</p>
          </div>
          <div class="p-4 bg-green-50 rounded-lg">
            <h4 class="font-medium text-green-900 mb-2">Vraag om verificatie</h4>
            <p class="text-green-800 text-sm">Vraag: "geef ook de factuurnummers zodat ik kan controleren in Exact"</p>
          </div>
          <div class="p-4 bg-green-50 rounded-lg">
            <h4 class="font-medium text-green-900 mb-2">Splits complexe vragen</h4>
            <p class="text-green-800 text-sm">Vraag eerst de data op, analyseer dan in een vervolgvraag</p>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
        <h3 class="font-semibold text-gray-900 mb-4">Voorbeeldvragen</h3>
        <div class="space-y-4">
          <div class="border-l-4 border-exact-blue pl-4">
            <p class="text-gray-900 font-medium">"Welke verkoopfacturen staan nog open? Toon factuurnummer, klant, bedrag en vervaldatum."</p>
            <p class="text-sm text-gray-500 mt-1">Specifiek, vraagt om details voor verificatie.</p>
          </div>
          <div class="border-l-4 border-exact-blue pl-4">
            <p class="text-gray-900 font-medium">"Wat is de totale omzet van Q4 2025 in administratie Webshop B.V.?"</p>
            <p class="text-sm text-gray-500 mt-1">Specifieke periode en administratie genoemd.</p>
          </div>
          <div class="border-l-4 border-exact-blue pl-4">
            <p class="text-gray-900 font-medium">"Zoek alle facturen van klant Bakker & Zonen. Hoeveel staat er nog open?"</p>
            <p class="text-sm text-gray-500 mt-1">Stap-voor-stap: eerst zoeken, dan analyseren.</p>
          </div>
          <div class="border-l-4 border-exact-blue pl-4">
            <p class="text-gray-900 font-medium">"Welke klanten hebben facturen die meer dan 30 dagen over de vervaldatum zijn?"</p>
            <p class="text-sm text-gray-500 mt-1">Duidelijke filterconditie.</p>
          </div>
          <div class="border-l-4 border-exact-blue pl-4">
            <p class="text-gray-900 font-medium">"Geef een overzicht van de bankafschrijvingen van vorige week, gegroepeerd per leverancier."</p>
            <p class="text-sm text-gray-500 mt-1">Specifieke periode en gewenste groepering.</p>
          </div>
          <div class="border-l-4 border-green-500 pl-4">
            <p class="text-gray-900 font-medium">"Hoeveel onderhanden werk hebben we uitstaan per project? Toon ook de reeds gefactureerde bedragen."</p>
            <p class="text-sm text-gray-500 mt-1"><span class="text-green-600 font-medium">Nieuw:</span> WIP-analyse voor projectadministratie.</p>
          </div>
          <div class="border-l-4 border-green-500 pl-4">
            <p class="text-gray-900 font-medium">"Wat is onze sales pipeline? Toon verkoopkansen per fase met verwachte omzet."</p>
            <p class="text-sm text-gray-500 mt-1"><span class="text-green-600 font-medium">Nieuw:</span> Pipeline-overzicht voor sales forecasting.</p>
          </div>
          <div class="border-l-4 border-green-500 pl-4">
            <p class="text-gray-900 font-medium">"Welke vaste activa hebben we en wat is de huidige boekwaarde na afschrijvingen?"</p>
            <p class="text-sm text-gray-500 mt-1"><span class="text-green-600 font-medium">Nieuw:</span> Activa-overzicht met afschrijvingsstatus.</p>
          </div>
          <div class="border-l-4 border-green-500 pl-4">
            <p class="text-gray-900 font-medium">"Analyseer de marge op onze verkopen deze maand. Welke producten hebben de beste marge?"</p>
            <p class="text-sm text-gray-500 mt-1"><span class="text-green-600 font-medium">Nieuw:</span> Marge-analyse voor pricing insights.</p>
          </div>
        </div>
      </div>

      <!-- What NOT to do -->
      <div class="bg-red-50 border border-red-200 rounded-xl p-6 mt-6">
        <h3 class="font-semibold text-red-900 mb-3">Wat je beter niet kunt vragen</h3>
        <ul class="text-red-800 text-sm space-y-2">
          <li class="flex items-start">
            <span class="mr-2">&#10005;</span>
            <span><strong>Geen financieel advies:</strong> "Moet ik deze klant afsluiten vanwege slechte betalingen?" - De AI kan data tonen, maar beslis zelf.</span>
          </li>
          <li class="flex items-start">
            <span class="mr-2">&#10005;</span>
            <span><strong>Geen fiscale berekeningen:</strong> "Hoeveel BTW moet ik afdragen?" - Raadpleeg je accountant voor fiscale zaken.</span>
          </li>
          <li class="flex items-start">
            <span class="mr-2">&#10005;</span>
            <span><strong>Geen bedrijfskritische beslissingen:</strong> "Is mijn cashflow gezond genoeg voor deze investering?" - Altijd met een adviseur bespreken.</span>
          </li>
        </ul>
      </div>
    </section>

    <!-- Security -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold text-gray-900 mb-4">Beveiliging</h2>
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
        <ul class="space-y-3">
          <li class="flex items-start">
            <svg class="w-5 h-5 text-green-500 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <div>
              <strong class="text-gray-900">OAuth 2.0</strong>
              <p class="text-gray-600">Veilige authenticatie via Exact Online. Wij zien je wachtwoord nooit.</p>
            </div>
          </li>
          <li class="flex items-start">
            <svg class="w-5 h-5 text-green-500 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <div>
              <strong class="text-gray-900">Read-only toegang</strong>
              <p class="text-gray-600">Alle tools zijn alleen-lezen. Er kunnen geen wijzigingen worden gemaakt.</p>
            </div>
          </li>
          <li class="flex items-start">
            <svg class="w-5 h-5 text-green-500 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <div>
              <strong class="text-gray-900">Versleutelde tokens</strong>
              <p class="text-gray-600">Access tokens worden versleuteld opgeslagen en automatisch ververst.</p>
            </div>
          </li>
          <li class="flex items-start">
            <svg class="w-5 h-5 text-green-500 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <div>
              <strong class="text-gray-900">EU hosting</strong>
              <p class="text-gray-600">Alle data wordt verwerkt binnen de EU (Cloudflare EU).</p>
            </div>
          </li>
        </ul>
      </div>
    </section>

    <!-- Support -->
    <section>
      <h2 class="text-2xl font-semibold text-gray-900 mb-4">Support</h2>
      <div class="bg-exact-light rounded-xl p-6">
        <p class="text-gray-700 mb-4">
          Vragen of problemen? Neem contact op via:
        </p>
        <ul class="space-y-2 text-gray-700">
          <li>Email: <a href="mailto:support@praatmetjeboekhouding.nl" class="text-exact-blue hover:underline">support@praatmetjeboekhouding.nl</a></li>
          <li>GitHub: <a href="https://github.com/werkenmetai/Exact-online-MCP/issues" class="text-exact-blue hover:underline">Issues & Discussions</a></li>
        </ul>
      </div>
    </section>

    <!-- Legal links -->
    <section class="mt-12 pt-8 border-t border-gray-200">
      <p class="text-sm text-gray-500">
        Door deze Dienst te gebruiken ga je akkoord met onze
        <a href="/terms" class="text-exact-blue hover:underline">Algemene Voorwaarden</a> en
        <a href="/privacy" class="text-exact-blue hover:underline">Privacybeleid</a>.
      </p>
    </section>
  </div>

  <script>
    // Copy buttons
    document.querySelectorAll('.copy-btn').forEach((btn) => {
      btn.addEventListener('click', () => {
        const button = btn as HTMLElement;
        const code = button.parentElement?.querySelector('code')?.textContent;
        if (code) {
          navigator.clipboard.writeText(code);
          button.textContent = 'Gekopieerd!';
          setTimeout(() => button.textContent = 'Kopieer', 2000);
        }
      });
    });
  </script>
</Layout>
